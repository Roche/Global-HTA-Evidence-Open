<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Example for a Markov Model â€¢ descem</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Example for a Markov Model">
<meta property="og:description" content="descem">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-200791953-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-200791953-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">descem</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://roche.github.io/Global-HTA-Evidence-Open/Rpackages/descem/docs/articles/example_ssd.html">Example in a Sick-Sicker-Dead Model</a>
    </li>
    <li>
      <a href="https://roche.github.io/Global-HTA-Evidence-Open/Rpackages/descem/docs/articles/example_eBC.html">Example in Early Breast Cancer</a>
    </li>
    <li>
      <a href="https://roche.github.io/Global-HTA-Evidence-Open/Rpackages/descem/docs/articles/example_markov.html">Example in a Markov Model</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://roche.github.io/Global-HTA-Evidence-Open/Rpackages/flexsurvPlus/docs/index.html">flexsurvPlus</a>
    </li>
    <li>
      <a href="https://roche.github.io/Global-HTA-Evidence-Open/Rpackages/gemtcPlus/docs/index.html">gemtcPlus</a>
    </li>
    <li>
      <a href="https://roche.github.io/Global-HTA-Evidence-Open/Rpackages/MAIC/docs/index.html">MAIC</a>
    </li>
    <li>
      <a href="https://roche.github.io/Global-HTA-Evidence-Open/Rpackages/rpsftmPlus/docs/index.html">rpsftmPlus</a>
    </li>
    <li>
      <a href="https://roche.github.io/Global-HTA-Evidence-Open/Rpackages/descem/docs/index.html">descem</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Roche/Global-HTA-Evidence-Open/tree/master/Rpackages/descem">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="example_markov_files/header-attrs-2.5/header-attrs.js"></script><script src="example_markov_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="example_markov_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="example_markov_files/anchor-sections-1.0/anchor-sections.js"></script><script src="example_markov_files/kePrint-0.0.1/kePrint.js"></script><link href="example_markov_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Example for a Markov Model</h1>
                        <h4 class="author">Javier Sanchez Alvarez and Valerie Aponte Ribero</h4>
            
            <h4 class="date">August 27, 2021</h4>
      
      
      <div class="hidden name"><code>example_markov.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>This document runs a discrete event simulation model in the context of a simple cohort Markov model with 4 states. Note that this same exercise could be done from a patient simulation approach rather than the cohort one.</p>
<div id="main-options" class="section level2">
<h2 class="hasAnchor">
<a href="#main-options" class="anchor"></a>Main options</h2>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">descem</span><span class="op">)</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/chjackson/flexsurv-dev">flexsurv</a></span><span class="op">)</span>
<span class="co">#&gt; Loading required package: survival</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/">kableExtra</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'kableExtra'</span>
<span class="co">#&gt; The following object is masked from 'package:dplyr':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     group_rows</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://purrr.tidyverse.org">purrr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span>

<span class="co">#Show all numbers, no scientific notation</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen <span class="op">=</span> <span class="fl">999</span><span class="op">)</span></pre></div>
</div>
<div id="model-concept" class="section level2">
<h2 class="hasAnchor">
<a href="#model-concept" class="anchor"></a>Model Concept</h2>
<p>The model is a simple Markov model with 4 states whose transition matrix can be found below. In order to run a pure Markov model within these functions, we will define each event as each cycle. We will generate an initial trace and at each event (cycle) we will update the trace by multiplying it by the transition matrix. Costs and QALYs can be computed in a similar fashion by multiplying the trace times the cost and the utility.</p>
</div>
<div id="load-data" class="section level2">
<h2 class="hasAnchor">
<a href="#load-data" class="anchor"></a>Load Data</h2>
<p>The dummy data is generated below. The data structure should be as defined below, otherwise it will give problems.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co">#Utilities</span>
<span class="va">util.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span> name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"util1"</span> ,<span class="st">"util2"</span> ,<span class="st">"util3"</span> ,<span class="st">"util4"</span><span class="op">)</span>,
                         value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.9</span>,<span class="fl">0.75</span>,<span class="fl">0.6</span>,<span class="fl">0</span><span class="op">)</span>,
                         se<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0.02</span>,<span class="fl">4</span><span class="op">)</span>,
                         stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>


<span class="co">#Costs</span>
<span class="va">cost.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span> name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cost1"</span> ,<span class="st">"cost2"</span> ,<span class="st">"cost3"</span> ,<span class="st">"cost4"</span>,<span class="st">"cost_int"</span><span class="op">)</span>,
                         value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1000</span>,<span class="fl">3000</span>,<span class="fl">6000</span>,<span class="fl">0</span>,<span class="fl">1000</span><span class="op">)</span>,
                         stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>se<span class="op">=</span> <span class="va">value</span><span class="op">/</span><span class="fl">5</span><span class="op">)</span></pre></div>
</div>
</div>
<div id="general-inputs-with-delayed-execution" class="section level1">
<h1 class="hasAnchor">
<a href="#general-inputs-with-delayed-execution" class="anchor"></a>General inputs with delayed execution</h1>
<p>Initial inputs and flags that will be used in the model can be defined below. We can define inputs that are common to all patients (<code>common_all_inputs</code>) within a simulation, inputs that are unique to a patient independently of the treatment (e.g.Â natural death, defined in <code>common_pt_inputs</code>), and inputs that are unique to that patient and that treatment (<code>unique_pt_inputs</code>). Items can be included through the <code>add_item</code> function, and can be used in subsequent items. All these inputs are generated before the events and the reaction to events are executed. Furthermore, the program first executes <code>common_all_inputs</code>, then <code>common_pt_inputs</code> and then <code>unique_pt_inputs</code>. So one could use the items generated in <code>common_all_inputs</code> in <code>unique_pt_inputs</code>.</p>
<p>We also define here the specific utilities and costs that will be used in the model. It is strongly recommended to assign unnamed objects if they are going to be processed in the model. In this case, weâ€™re only using <code>util_v</code> and <code>cost_v</code> as an intermediate input and these objects will not be processed (we just use them to make the code more readable), so itâ€™s fine if we name them.</p>
<p>We define here our initial trace, the number of cycles to be simulated, the transition matrices and the initial cycle time (i.e.Â 0).</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="co">#Put objects here that do not change on any patient or intervention loop, for example a HR</span>
<span class="va">common_all_inputs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span>max_n_cycles <span class="op">=</span> <span class="fl">30</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span> <span class="co">#utilities</span>
    util_v <span class="op">=</span> <span class="kw">if</span><span class="op">(</span><span class="va">psa_bool</span><span class="op">)</span><span class="op">{</span>
      <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span><span class="fu"><a href="../reference/draw.rgamma.html">draw.rgamma</a></span><span class="op">(</span><span class="va">util.data</span><span class="op">$</span><span class="va">value</span>,<span class="va">util.data</span><span class="op">$</span><span class="va">se</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span>,<span class="va">util.data</span><span class="op">$</span><span class="va">name</span><span class="op">)</span> <span class="co">#in this case I choose a multivariate normal with no correlation</span>
    <span class="op">}</span> <span class="kw">else</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span><span class="va">util.data</span><span class="op">$</span><span class="va">value</span>,<span class="va">util.data</span><span class="op">$</span><span class="va">name</span><span class="op">)</span><span class="op">}</span>,
    util1 <span class="op">=</span> <span class="va">util_v</span><span class="op">[[</span><span class="st">"util1"</span><span class="op">]</span><span class="op">]</span>, 
    util2 <span class="op">=</span> <span class="va">util_v</span><span class="op">[[</span><span class="st">"util2"</span><span class="op">]</span><span class="op">]</span>,
    util3 <span class="op">=</span> <span class="va">util_v</span><span class="op">[[</span><span class="st">"util3"</span><span class="op">]</span><span class="op">]</span>,
    util4 <span class="op">=</span> <span class="va">util_v</span><span class="op">[[</span><span class="st">"util4"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span> <span class="co">#costs</span>
    cost_v <span class="op">=</span> <span class="kw">if</span><span class="op">(</span><span class="va">psa_bool</span><span class="op">)</span><span class="op">{</span>
      <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span><span class="fu"><a href="../reference/draw.rgamma.html">draw.rgamma</a></span><span class="op">(</span><span class="va">cost.data</span><span class="op">$</span><span class="va">value</span>,<span class="va">cost.data</span><span class="op">$</span><span class="va">se</span><span class="op">)</span>,<span class="va">cost.data</span><span class="op">$</span><span class="va">name</span><span class="op">)</span> <span class="co">#in this case I choose a gamma distribution</span>
    <span class="op">}</span> <span class="kw">else</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span><span class="va">cost.data</span><span class="op">$</span><span class="va">value</span>,<span class="va">cost.data</span><span class="op">$</span><span class="va">name</span><span class="op">)</span><span class="op">}</span>,
    cost1    <span class="op">=</span> <span class="va">cost_v</span><span class="op">[[</span><span class="st">"cost1"</span><span class="op">]</span><span class="op">]</span>,
    cost2    <span class="op">=</span> <span class="va">cost_v</span><span class="op">[[</span><span class="st">"cost2"</span><span class="op">]</span><span class="op">]</span>,
    cost3    <span class="op">=</span> <span class="va">cost_v</span><span class="op">[[</span><span class="st">"cost3"</span><span class="op">]</span><span class="op">]</span>,
    cost4    <span class="op">=</span> <span class="va">cost_v</span><span class="op">[[</span><span class="st">"cost4"</span><span class="op">]</span><span class="op">]</span>,
    cost_int <span class="op">=</span> <span class="va">cost_v</span><span class="op">[[</span><span class="st">"cost_int"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>


<span class="co">#Put objects here that change as we loop through treatments for each patient (e.g. events can affect fl.tx, but events do not affect nat.os.s)</span>
<span class="co">#common across trt but changes per pt could be implemented here (if (trt==)... )</span>
<span class="va">unique_pt_inputs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span>
                            trace <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>,
                            transition <span class="op">=</span> <span class="kw">if</span><span class="op">(</span> <span class="va">trt</span><span class="op">==</span><span class="st">"noint"</span><span class="op">)</span><span class="op">{</span> 
                                            <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.4</span>,<span class="fl">0.3</span>,<span class="fl">0.2</span>,<span class="fl">0.1</span>,
                                            <span class="fl">0.1</span>,<span class="fl">0.4</span>,<span class="fl">0.3</span>,<span class="fl">0.2</span>,
                                            <span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">0.5</span>,<span class="fl">0.3</span>,
                                            <span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,nrow<span class="op">=</span><span class="fl">4</span>,byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span>
                                         <span class="op">}</span> <span class="kw">else</span><span class="op">{</span>
                                            <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>,<span class="fl">0.3</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span>,
                                                     <span class="fl">0.2</span>,<span class="fl">0.4</span>,<span class="fl">0.3</span>,<span class="fl">0.1</span>,
                                                     <span class="fl">0.1</span>,<span class="fl">0.2</span>,<span class="fl">0.5</span>,<span class="fl">0.2</span>,
                                                     <span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,nrow<span class="op">=</span><span class="fl">4</span>,byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span>
                                              <span class="op">}</span>,
                            cycle_time <span class="op">=</span> <span class="fl">0</span>
<span class="op">)</span></pre></div>
</div>
<div id="events" class="section level1">
<h1 class="hasAnchor">
<a href="#events" class="anchor"></a>Events</h1>
<div id="add-initial-events" class="section level2">
<h2 class="hasAnchor">
<a href="#add-initial-events" class="anchor"></a>Add Initial Events</h2>
<p>In our model, the events are <code>start and cycle</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="va">init_event_list</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/add_tte.html">add_tte</a></span><span class="op">(</span>trt<span class="op">=</span><span class="st">"noint"</span>,evts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"start"</span>,<span class="st">"cycle"</span><span class="op">)</span>,input<span class="op">=</span><span class="op">{</span> <span class="co">#intervention</span>
    <span class="va">start</span> <span class="op">&lt;-</span> <span class="fl">0</span>
    
    <span class="va">cycle</span> <span class="op">&lt;-</span> <span class="fl">1</span>
    
  <span class="op">}</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_tte.html">add_tte</a></span><span class="op">(</span>trt<span class="op">=</span><span class="st">"int"</span>,evts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"start"</span>,<span class="st">"cycle"</span><span class="op">)</span>,input<span class="op">=</span><span class="op">{</span> <span class="co">#intervention</span>
    <span class="va">start</span> <span class="op">&lt;-</span> <span class="fl">0</span>
    
    <span class="va">cycle</span> <span class="op">&lt;-</span> <span class="fl">1</span>
   
    <span class="op">}</span><span class="op">)</span></pre></div>
</div>
<div id="add-reaction-to-those-events" class="section level2">
<h2 class="hasAnchor">
<a href="#add-reaction-to-those-events" class="anchor"></a>Add Reaction to Those Events</h2>
<p>The explanation on how these part works can be seen in the early breast cancer tutorial.</p>
<p>In this Markov model case, in the event <code>start</code> we generate as many cycles as we need. At each <code>cycle</code> event we update the time of the cycle to keep track of it when we produce the output of the model and we update the trace. Finally, when all the events are over, we finish the simulation by setting <code>curtime</code> to infinity.</p>
<div class="sourceCode" id="cb5"><pre class="downlit">

<span class="va">evt_react_list</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/add_reactevt.html">add_reactevt</a></span><span class="op">(</span>name_evt <span class="op">=</span> <span class="st">"start"</span>,
               input <span class="op">=</span> <span class="op">{</span>
                 <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">2</span><span class="op">:</span><span class="va">max_n_cycles</span><span class="op">)</span> <span class="op">{</span>
                   <span class="fu"><a href="../reference/new_event.html">new_event</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"cycle"</span> <span class="op">=</span> <span class="va">curtime</span> <span class="op">+</span> <span class="va">i</span><span class="op">)</span><span class="op">)</span>
                 <span class="op">}</span>
                 
               <span class="op">}</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_reactevt.html">add_reactevt</a></span><span class="op">(</span>name_evt <span class="op">=</span> <span class="st">"cycle"</span>,
               input <span class="op">=</span> <span class="op">{</span>
                 <span class="fu"><a href="../reference/modify_item.html">modify_item</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"cycle_time"</span> <span class="op">=</span> <span class="va">cycle_time</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="co">#Update cycle time</span>
                 
                 <span class="fu"><a href="../reference/modify_item.html">modify_item</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span> <span class="st">"trace"</span> <span class="op">=</span> <span class="va">trace</span> <span class="op">%*%</span> <span class="va">transition</span><span class="op">)</span><span class="op">)</span> <span class="co">#Update trace</span>
                 
                 <span class="kw">if</span> <span class="op">(</span><span class="va">max_n_cycles</span> <span class="op">==</span> <span class="va">cycle_time</span><span class="op">)</span> <span class="op">{</span>
                   <span class="fu"><a href="../reference/modify_item.html">modify_item</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"curtime"</span> <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span> <span class="co">#Indicate end of simulation for patient</span>
                 <span class="op">}</span>
               <span class="op">}</span><span class="op">)</span> </pre></div>
</div>
</div>
<div id="costs-and-utilities" class="section level1">
<h1 class="hasAnchor">
<a href="#costs-and-utilities" class="anchor"></a>Costs and Utilities</h1>
<p>Costs and utilities are introduced below. However, itâ€™s worth noting that the model is able to run without costs or utilities. One would just need to define the all the utility and costs related objects as <code>NULL</code> and the model would automatically assume they take value <code>0</code>.</p>
<div id="utilities" class="section level3">
<h3 class="hasAnchor">
<a href="#utilities" class="anchor"></a>Utilities</h3>
<p>Utilities are defined using pipes with the <code>add_util</code> function. In this case case, we are just multiplying the trace times the utilities at each state.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">


<span class="va">util_ongoing</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_util.html">add_util</a></span><span class="op">(</span>evt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"start"</span>,<span class="st">"cycle"</span><span class="op">)</span>,
                              trt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"int"</span>, <span class="st">"noint"</span><span class="op">)</span>,
                              util <span class="op">=</span> <span class="va">trace</span> <span class="op">%*%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">util1</span>,<span class="va">util2</span>,<span class="va">util3</span>,<span class="va">util4</span><span class="op">)</span>
<span class="op">)</span> <span class="co">#common utility across arms</span></pre></div>
</div>
<div id="costs" class="section level3">
<h3 class="hasAnchor">
<a href="#costs" class="anchor"></a>Costs</h3>
<p>Costs are defined using pipes with the <code>add_cost</code> function, in a similar fashion to the utilities. In this case we add the costs in a continuous fashion.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">

<span class="va">cost_ongoing</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/add_cost.html">add_cost</a></span><span class="op">(</span>
    evt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"start"</span>,<span class="st">"cycle"</span><span class="op">)</span> ,
    trt <span class="op">=</span> <span class="st">"noint"</span>,
    cost <span class="op">=</span> <span class="va">trace</span> <span class="op">%*%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">cost1</span>,<span class="va">cost2</span>,<span class="va">cost3</span>,<span class="va">cost4</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_cost.html">add_cost</a></span><span class="op">(</span>
    evt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"start"</span>,<span class="st">"cycle"</span><span class="op">)</span> ,
    trt <span class="op">=</span> <span class="st">"int"</span>,
    cost <span class="op">=</span> <span class="va">trace</span> <span class="op">%*%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">cost1</span><span class="op">+</span> <span class="va">cost_int</span>,<span class="va">cost2</span><span class="op">+</span> <span class="va">cost_int</span>,<span class="va">cost3</span><span class="op">+</span> <span class="va">cost_int</span>,<span class="va">cost4</span><span class="op">)</span> <span class="op">)</span> </pre></div>
</div>
</div>
<div id="model" class="section level1">
<h1 class="hasAnchor">
<a href="#model" class="anchor"></a>Model</h1>
<div id="model-execution" class="section level2">
<h2 class="hasAnchor">
<a href="#model-execution" class="anchor"></a>Model Execution</h2>
<p>The model can be run using the function <code>RunSim</code> below. We must define the number of patients to be simulated, the number of simulations, whether we want to run a PSA or not, the strategy list, the inputs, events and reactions defined above, the number of cores to be used (by default uses 1 core), the discount rate for costs and the discount rate for qalys. It is recommended not to use all the cores in the machine.</p>
<p>It is worth noting that the <code>psa_bool</code> argument does not run a PSA automatically, but is rather an additional input/flag of the model that we use as a reference to determine whether we want to use a deterministic or stochastic input. As such, it could also be defined in <code>common_all_inputs</code> as the first item to be defined, and the result would be the same. However, we recommend it to be defined in <code>RunSim</code>.</p>
<p>Note that the distribution chosen, the number of events and the interaction between events can have a substantial impact on the running time of the model. Since we are taking a cohort approach, we just need to indicate <code>npats = 1</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="co">#Logic is: per patient, per intervention, per event, react to that event.</span>
<span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RunSim.html">RunSim</a></span><span class="op">(</span>  
  npats<span class="op">=</span><span class="fl">1</span>,                               <span class="co"># number of patients, recommended to set to 1000 if using PSA as it takes quite a while</span>
  n_sim<span class="op">=</span><span class="fl">1</span>,                                  <span class="co"># if &gt;1, then PSA, otherwise deterministic</span>
  psa_bool <span class="op">=</span> <span class="cn">FALSE</span>,
  trt_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"int"</span>, <span class="st">"noint"</span><span class="op">)</span>,             <span class="co"># intervention list</span>
  common_all_inputs <span class="op">=</span> <span class="va">common_all_inputs</span>,    <span class="co"># inputs common that do not change within a simulation</span>
  unique_pt_inputs <span class="op">=</span> <span class="va">unique_pt_inputs</span>,      <span class="co"># inputs that change within a simulation between interventions</span>
  init_event_list <span class="op">=</span> <span class="va">init_event_list</span>,        <span class="co"># initial event list</span>
  evt_react_list <span class="op">=</span> <span class="va">evt_react_list</span>,          <span class="co"># reaction of events</span>
  util_ongoing_list <span class="op">=</span> <span class="va">util_ongoing</span>,
  cost_ongoing_list <span class="op">=</span> <span class="va">cost_ongoing</span>,
  ncores <span class="op">=</span> <span class="fl">1</span>,                               <span class="co"># number of cores to use, recommended not to use all</span>
  drc <span class="op">=</span> <span class="fl">0.035</span>,                              <span class="co"># discount rate for costs</span>
  drq <span class="op">=</span> <span class="fl">0.035</span>,                              <span class="co"># discount rate for QALYs</span>
  input_out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>                            <span class="co"># list of additional outputs (Flags, etc) that the user wants to export for each patient and event</span>
    <span class="st">"trace"</span>,
    <span class="st">"cycle_time"</span>
  <span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; [1] "Simulation number: 1"</span>
<span class="co">#&gt; Warning in RunSim(npats = 1, n_sim = 1, psa_bool = FALSE, trt_list = c("int", :</span>
<span class="co">#&gt; Item util_v is named. It is strongly advised to assign unnamed objects if they</span>
<span class="co">#&gt; are going to be processed in the model, as they can create errors depending on</span>
<span class="co">#&gt; how they are used within the model</span>
<span class="co">#&gt; Warning in RunSim(npats = 1, n_sim = 1, psa_bool = FALSE, trt_list = c("int", :</span>
<span class="co">#&gt; Item cost_v is named. It is strongly advised to assign unnamed objects if they</span>
<span class="co">#&gt; are going to be processed in the model, as they can create errors depending on</span>
<span class="co">#&gt; how they are used within the model</span>
<span class="co">#&gt; [1] "Time to run iteration 1: 0.13s"</span>
<span class="co">#&gt; [1] "Total time to run: 0.13s"</span></pre></div>
</div>
</div>
<div id="post-processing-of-model-outputs" class="section level1">
<h1 class="hasAnchor">
<a href="#post-processing-of-model-outputs" class="anchor"></a>Post-processing of Model Outputs</h1>
<div id="summary-of-results" class="section level2">
<h2 class="hasAnchor">
<a href="#summary-of-results" class="anchor"></a>Summary of Results</h2>
<p>Once the model has been run, we can use the results and summarize them using the <code>summary_results_det</code> to print the results of the last simulation (if nsim=1, itâ€™s the deterministic case), and <code>summary_results_psa</code> to show the PSA results (with the confidence intervals). We can also use the individual patient data generated by the simulation, which we collect here in the <code>psa_ipd</code> object. Note that the data for life years is wrong, as the model assumes we are running a patient simulation data and therefore itâ€™s adding the 4 states, inflating the total life years. We can manually adjust this to get the correct life years.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">

<span class="fu"><a href="../reference/summary_results_det.html">summary_results_det</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">final_output</span><span class="op">)</span> <span class="co">#will print the last simulation!</span>
<span class="co">#&gt;            int    noint</span>
<span class="co">#&gt; costs 24279.14 13956.96</span>
<span class="co">#&gt; lys      18.71    18.71</span>
<span class="co">#&gt; qalys     4.94     3.53</span>
<span class="co">#&gt; ICER        NA      Inf</span>
<span class="co">#&gt; ICUR        NA  7293.44</span>

<span class="va">psa_ipd_simple</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">output_psa</span>, <span class="st">"merged_df"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">trace</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span> 

<span class="va">psa_ipd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">output_psa</span>, <span class="st">"merged_df"</span><span class="op">)</span><span class="op">)</span> 

<span class="va">trace_t</span> <span class="op">&lt;-</span> <span class="va">psa_ipd</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>,<span class="fl">62</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">trt</span>,<span class="va">trace</span>,<span class="va">state</span>,<span class="va">evttime</span><span class="op">)</span> 

<span class="va">trace_t</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span><span class="op">)</span></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:left;">
trt
</th>
<th style="text-align:right;">
trace
</th>
<th style="text-align:right;">
state
</th>
<th style="text-align:right;">
evttime
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
0.30
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
0.32
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
0.29
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb10"><pre class="downlit">

<span class="va">life_years</span> <span class="op">&lt;-</span>  <span class="va">psa_ipd</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>,<span class="fl">62</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">trt</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">state</span><span class="op">!=</span><span class="fl">4</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co">#erase death state for LY computation</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>ly_final <span class="op">=</span> <span class="va">ly</span><span class="op">*</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/lead-lag.html">lag</a></span><span class="op">(</span><span class="va">trace</span>,<span class="fl">3L</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co">#multiply by previous trace</span>
<span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>ly_final <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">ly_final</span>,na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="co">#get final discounted life years</span>

<span class="va">life_years</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span><span class="op">)</span></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:left;">
trt
</th>
<th style="text-align:right;">
ly_final
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
6.329737
</td>
</tr>
<tr>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
4.584405
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb11"><pre class="downlit">

<span class="va">results</span><span class="op">$</span><span class="va">final_output</span><span class="op">[[</span><span class="st">"lys.int"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">life_years</span><span class="op">$</span><span class="va">ly_final</span><span class="op">[</span><span class="va">life_years</span><span class="op">$</span><span class="va">trt</span><span class="op">==</span><span class="st">"int"</span><span class="op">]</span>
<span class="va">results</span><span class="op">$</span><span class="va">final_output</span><span class="op">[[</span><span class="st">"lys.noint"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">life_years</span><span class="op">$</span><span class="va">ly_final</span><span class="op">[</span><span class="va">life_years</span><span class="op">$</span><span class="va">trt</span><span class="op">==</span><span class="st">"noint"</span><span class="op">]</span>

<span class="fu"><a href="../reference/summary_results_det.html">summary_results_det</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">final_output</span><span class="op">)</span> <span class="co">#will print the last simulation!</span>
<span class="co">#&gt;            int    noint</span>
<span class="co">#&gt; costs 24279.14 13956.96</span>
<span class="co">#&gt; lys       6.33     4.58</span>
<span class="co">#&gt; qalys     4.94     3.53</span>
<span class="co">#&gt; ICER        NA  5914.16</span>
<span class="co">#&gt; ICUR        NA  7293.44</span></pre></div>
<p>We can also check each of the cycles</p>
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:left;">
evtname
</th>
<th style="text-align:right;">
evttime
</th>
<th style="text-align:right;">
cost
</th>
<th style="text-align:right;">
qaly
</th>
<th style="text-align:right;">
ly
</th>
<th style="text-align:right;">
pat_id
</th>
<th style="text-align:left;">
trt
</th>
<th style="text-align:right;">
cycle_time
</th>
<th style="text-align:right;">
total_costs
</th>
<th style="text-align:right;">
total_qalys
</th>
<th style="text-align:right;">
total_lys
</th>
<th style="text-align:right;">
simulation
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
start
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.000000
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1965.989690
</td>
<td style="text-align:right;">
0.8846954
</td>
<td style="text-align:right;">
0.9829948
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2754.285073
</td>
<td style="text-align:right;">
0.6980688
</td>
<td style="text-align:right;">
0.9497535
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2872.201325
</td>
<td style="text-align:right;">
0.5684756
</td>
<td style="text-align:right;">
0.9176362
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2634.990149
</td>
<td style="text-align:right;">
0.4691914
</td>
<td style="text-align:right;">
0.8866050
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2291.724094
</td>
<td style="text-align:right;">
0.3895537
</td>
<td style="text-align:right;">
0.8566232
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1947.762559
</td>
<td style="text-align:right;">
0.3242989
</td>
<td style="text-align:right;">
0.8276553
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1638.647105
</td>
<td style="text-align:right;">
0.2703019
</td>
<td style="text-align:right;">
0.7996669
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
1372.316934
</td>
<td style="text-align:right;">
0.2254192
</td>
<td style="text-align:right;">
0.7726251
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
1146.914659
</td>
<td style="text-align:right;">
0.1880358
</td>
<td style="text-align:right;">
0.7464976
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
957.644750
</td>
<td style="text-align:right;">
0.1568698
</td>
<td style="text-align:right;">
0.7212538
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
799.272995
</td>
<td style="text-align:right;">
0.1308761
</td>
<td style="text-align:right;">
0.6968635
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
666.965087
</td>
<td style="text-align:right;">
0.1091921
</td>
<td style="text-align:right;">
0.6732981
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
556.510746
</td>
<td style="text-align:right;">
0.0911018
</td>
<td style="text-align:right;">
0.6505296
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
464.330280
</td>
<td style="text-align:right;">
0.0760089
</td>
<td style="text-align:right;">
0.6285310
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
387.411713
</td>
<td style="text-align:right;">
0.0634166
</td>
<td style="text-align:right;">
0.6072763
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
323.232479
</td>
<td style="text-align:right;">
0.0529105
</td>
<td style="text-align:right;">
0.5867404
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
269.684293
</td>
<td style="text-align:right;">
0.0441450
</td>
<td style="text-align:right;">
0.5668989
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
225.006775
</td>
<td style="text-align:right;">
0.0368316
</td>
<td style="text-align:right;">
0.5477284
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
187.730662
</td>
<td style="text-align:right;">
0.0307298
</td>
<td style="text-align:right;">
0.5292062
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
156.629904
</td>
<td style="text-align:right;">
0.0256389
</td>
<td style="text-align:right;">
0.5113104
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
130.681491
</td>
<td style="text-align:right;">
0.0213914
</td>
<td style="text-align:right;">
0.4940197
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
109.031868
</td>
<td style="text-align:right;">
0.0178475
</td>
<td style="text-align:right;">
0.4773137
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
90.968872
</td>
<td style="text-align:right;">
0.0148908
</td>
<td style="text-align:right;">
0.4611727
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
75.898320
</td>
<td style="text-align:right;">
0.0124239
</td>
<td style="text-align:right;">
0.4455774
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
63.324462
</td>
<td style="text-align:right;">
0.0103656
</td>
<td style="text-align:right;">
0.4305096
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
52.833680
</td>
<td style="text-align:right;">
0.0086484
</td>
<td style="text-align:right;">
0.4159513
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
44.080875
</td>
<td style="text-align:right;">
0.0072156
</td>
<td style="text-align:right;">
0.4018853
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
36.778122
</td>
<td style="text-align:right;">
0.0060202
</td>
<td style="text-align:right;">
0.3882950
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
30.685196
</td>
<td style="text-align:right;">
0.0050229
</td>
<td style="text-align:right;">
0.3751642
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
25.601667
</td>
<td style="text-align:right;">
0.0041908
</td>
<td style="text-align:right;">
0.3624775
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
int
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
24279.14
</td>
<td style="text-align:right;">
4.943779
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
start
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.000000
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
982.994845
</td>
<td style="text-align:right;">
0.8846954
</td>
<td style="text-align:right;">
0.9829948
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2374.383683
</td>
<td style="text-align:right;">
0.6695762
</td>
<td style="text-align:right;">
0.9497535
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2395.030498
</td>
<td style="text-align:right;">
0.5010294
</td>
<td style="text-align:right;">
0.9176362
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1993.974713
</td>
<td style="text-align:right;">
0.3739700
</td>
<td style="text-align:right;">
0.8866050
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1551.258984
</td>
<td style="text-align:right;">
0.2790364
</td>
<td style="text-align:right;">
0.8566232
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1175.940902
</td>
<td style="text-align:right;">
0.2082166
</td>
<td style="text-align:right;">
0.8276553
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
882.644380
</td>
<td style="text-align:right;">
0.1553847
</td>
<td style="text-align:right;">
0.7996669
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
660.066030
</td>
<td style="text-align:right;">
0.1159643
</td>
<td style="text-align:right;">
0.7726251
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
492.963971
</td>
<td style="text-align:right;">
0.0865468
</td>
<td style="text-align:right;">
0.7464976
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
367.997323
</td>
<td style="text-align:right;">
0.0645925
</td>
<td style="text-align:right;">
0.7212538
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
274.668169
</td>
<td style="text-align:right;">
0.0482076
</td>
<td style="text-align:right;">
0.6968635
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
204.998719
</td>
<td style="text-align:right;">
0.0359790
</td>
<td style="text-align:right;">
0.6732981
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
152.998690
</td>
<td style="text-align:right;">
0.0268524
</td>
<td style="text-align:right;">
0.6505296
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
114.188546
</td>
<td style="text-align:right;">
0.0200409
</td>
<td style="text-align:right;">
0.6285310
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
85.223026
</td>
<td style="text-align:right;">
0.0149573
</td>
<td style="text-align:right;">
0.6072763
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
63.605003
</td>
<td style="text-align:right;">
0.0111631
</td>
<td style="text-align:right;">
0.5867404
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
47.470696
</td>
<td style="text-align:right;">
0.0083315
</td>
<td style="text-align:right;">
0.5668989
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
35.429084
</td>
<td style="text-align:right;">
0.0062181
</td>
<td style="text-align:right;">
0.5477284
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
26.441998
</td>
<td style="text-align:right;">
0.0046408
</td>
<td style="text-align:right;">
0.5292062
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
19.734613
</td>
<td style="text-align:right;">
0.0034636
</td>
<td style="text-align:right;">
0.5113104
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
14.728650
</td>
<td style="text-align:right;">
0.0025850
</td>
<td style="text-align:right;">
0.4940197
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
10.992521
</td>
<td style="text-align:right;">
0.0019293
</td>
<td style="text-align:right;">
0.4773137
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
8.204113
</td>
<td style="text-align:right;">
0.0014399
</td>
<td style="text-align:right;">
0.4611727
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
6.123024
</td>
<td style="text-align:right;">
0.0010746
</td>
<td style="text-align:right;">
0.4455774
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
4.569833
</td>
<td style="text-align:right;">
0.0008020
</td>
<td style="text-align:right;">
0.4305096
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
3.410630
</td>
<td style="text-align:right;">
0.0005986
</td>
<td style="text-align:right;">
0.4159513
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
2.545476
</td>
<td style="text-align:right;">
0.0004467
</td>
<td style="text-align:right;">
0.4018853
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
1.899780
</td>
<td style="text-align:right;">
0.0003334
</td>
<td style="text-align:right;">
0.3882950
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
1.417874
</td>
<td style="text-align:right;">
0.0002488
</td>
<td style="text-align:right;">
0.3751642
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cycle
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
1.058210
</td>
<td style="text-align:right;">
0.0001857
</td>
<td style="text-align:right;">
0.3624775
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
noint
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
13956.96
</td>
<td style="text-align:right;">
3.528511
</td>
<td style="text-align:right;">
18.71206
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<div id="plots" class="section level2">
<h2 class="hasAnchor">
<a href="#plots" class="anchor"></a>Plots</h2>
<p>We now use the data to plot the traces.</p>
<div class="sourceCode" id="cb12"><pre class="downlit">

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">trace_t</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">evttime</span>,y <span class="op">=</span> <span class="va">trace</span>,col<span class="op">=</span><span class="va">trt</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">state</span><span class="op">)</span></pre></div>
<p><img src="example_markov_files/figure-html/post-processing_plots1-1.png" width="960"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Valerie Aponte Ribero, Javier Sanchez Alvarez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
